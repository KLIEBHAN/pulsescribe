# PulseScribe v1.1.0

**Lightning Mode: ~4x faster local transcription on Apple Silicon**

- **Download:** [PulseScribe-1.1.0.dmg](https://github.com/KLIEBHAN/pulsescribe/releases/download/v1.1.0/PulseScribe-1.1.0.dmg)
- **Build target:** Apple Silicon (`arm64`)

## Important: First launch on macOS (Gatekeeper)

This release is **not notarized** (ad-hoc signed). On first launch, macOS may block it with a dialog like:

"Apple could not check if 'PulseScribe' is free of malware‚Ä¶".

> [!IMPORTANT]
>
> **To open it anyway, run these commands in Terminal:**
>
> ```bash
> sudo xattr -dr com.apple.quarantine /Applications/PulseScribe.app
> open /Applications/PulseScribe.app
> ```

> Deutsch: Setup + Troubleshooting in `README.de.md`.

## Highlights

### Lightning Mode: ~4x faster local transcription

The new `lightning-whisper-mlx` backend uses **batched decoding** for dramatically faster transcription on Apple Silicon:

| Backend             | RTF (Real-Time Factor) | Speed                        |
| ------------------- | ---------------------- | ---------------------------- |
| `whisper` (PyTorch) | ~2-3x                  | Baseline                     |
| `mlx` (MLX/Metal)   | ~1.0x                  | Real-time                    |
| **`lightning`**     | **~0.5x**              | **2x faster than real-time** |

**Enable Lightning Mode:**

```bash
# Via Settings UI: Local Mode ‚Üí Backend ‚Üí lightning
# Or via environment:
export PULSESCRIBE_LOCAL_BACKEND=lightning
```

**Optional tuning:**

```bash
PULSESCRIBE_LIGHTNING_BATCH_SIZE=12   # Batch size (6-12, higher=faster)
PULSESCRIBE_LIGHTNING_QUANT=4bit      # Quantization: 4bit, 8bit, or none
```

> [!NOTE]
> Lightning supports: `tiny`, `base`, `small`, `medium`, `large`, `large-v2`, `large-v3`
>
> `turbo` is automatically mapped to `large-v3` (turbo not available in Lightning).

### Loading indicator in menu bar

New visual feedback when models are being downloaded or loaded:

- **‚¨áÔ∏è** Model loading/downloading
- **üé§** Ready (idle)
- **üî¥** Recording
- **‚è≥** Transcribing/Refining
- **‚úÖ/‚ùå** Done/Error

### Automatic fallback: Lightning ‚Üí MLX

If Lightning fails (e.g., unsupported model), PulseScribe automatically falls back to the MLX backend with a warning in the logs. No configuration needed ‚Äì it just works.

### Bug fixes

- **Fixed:** `[Errno 30] Read-only file system: 'mlx_models'` when running from DMG
  - Lightning models are now stored in `~/.pulsescribe/lightning_models/`
- **Fixed:** `beam_size` ENV variable was incorrectly applied to Lightning/MLX backends
- **Fixed:** `language="auto"` now correctly triggers auto-detection

## Changes since v1.0.0

### Features

- `lightning-whisper-mlx` backend for ~4x faster local transcription
- Loading indicator (‚¨áÔ∏è) in menu bar during model download/init
- Automatic Lightning ‚Üí MLX fallback on errors

### Bug fixes

- Read-only filesystem fix for Lightning models in app bundles
- Consistent `beam_size` handling across backends
- Proper `language="auto"` normalization

### Internal

- Comprehensive unit tests for Lightning backend (33 new tests)
- Removed legacy Raycast daemon/IPC code
- Added `mlx_models/` to `.gitignore`

## Upgrading from v1.0.0

1. Download the new DMG
2. Replace `/Applications/PulseScribe.app`
3. (Optional) Enable Lightning in Settings ‚Üí Local Mode ‚Üí Backend

Your existing settings in `~/.pulsescribe/.env` are preserved.

## Known limitations

- **Lightning model support:** `turbo` is mapped to `large-v3` (turbo not available)
- **English-only models:** `distil-*` models are not supported by Lightning (auto-fallback to MLX)
- **First-run download:** Lightning models are downloaded on first use (~1-5 GB depending on model size)

## Links

- Website: [pulsescribe.me](https://pulsescribe.me)
- Docs / Usage: `README.md`
- Deutsch: `README.de.md`
